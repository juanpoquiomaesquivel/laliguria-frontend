<div
    class="card rounded-3"
    [ngStyle]="{
        'background-color':
            currentExpandedIndex === request.index
                ? 'light-gray'
                : 'white'
    }"
>
    <div class="card-body">
        <div class="row gap-3 justify-content-around">
            <div class="col-xs-5 col-sm-7 col-md-7 col-lg-7 d-flex">
                <div class="vstack gap-0 align-self-center">
                    <div class="h5 card-title">
                        <strong>PEDIDO NÂ° {{ request.index }}</strong>
                    </div>
                    <p>{{ request.productionInfo }}</p>
                    <div class="status-container">
                        <div
                            class="circle"
                            [ngStyle]="{
                                'background-color':
                                    '#' + getRequestStatusColorHex()
                            }"
                        ></div>
                        <span
                            ><strong>Estado: </strong
                            >{{ getRequestStatusName() }}</span
                        >
                    </div>
                </div>
            </div>

            <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4 d-flex">
                <button
                    type="button"
                    class="btn btn-sm btn-outline-dark align-self-center w-100"
                    data-bs-toggle="collapse"
                    [attr.data-bs-target]="
                        '#customerOrder' + request.index
                    "
                    (click)="toggleCollapse(request.index)"
                >
                    {{
                        currentExpandedIndex === request.index
                            ? "Cerrar"
                            : "Expandir"
                    }}
                </button>
            </div>

            <div
                class="collapse"
                id="{{ 'customerOrder' + request.index }}"
                *ngFor="let req of request.customerRequestList"
            >
                <app-pd-customer-item-request-card [orderRequestId]="request.id" [request]="req"></app-pd-customer-item-request-card>
            </div>
        </div>
    </div>
</div>
